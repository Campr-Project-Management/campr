{"version":3,"file":"dhtmlxgantt_keyboard_navigation.js","sources":["dhtmlxgantt_keyboard_navigation.js"],"names":["setupKeyNav","gantt","getScope","mode","scopes","$keyboardNavigation","GanttNode","headerCell","HeaderCell","taskRow","TaskRow","taskCell","config","keyboard_navigation","keyboard_navigation_cells","addShortcut","shortcut","handler","scope","scopeObject","prototype","bind","removeShortcut","unbind","focus","disp","dispatcher","enable","getActiveNode","focusNode","setDefaultNode","_compose","parts","Array","slice","call","arguments","res","i","length","obj","p","shortcuts","createCommand","modifiers","shift","alt","ctrl","meta","keyCode","parse","commands","expr","this","getExpressions","trim","words","getWords","command","j","commandKeys","specialKeys","charCodeAt","push","getCommandFromEvent","domEvent","shiftKey","altKey","ctrlKey","metaKey","which","printableKey","String","fromCharCode","toLowerCase","getHashFromEvent","getHash","join","junctionChar","split","term","combinationChar","replace","backspace","tab","enter","esc","space","up","down","left","right","home","end","pageup","pagedown","delete","insert","plus","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","EventHandler","_handlers","findHandler","hash","doAction","e","preventDefault","returnValue","bindAll","map","initKeys","keys","getFocusableNodes","_getFocusableNodes","trapFocus","root","focusable","currentFocus","document","activeElement","currentIndex","lastItem","firstItem","blur","disable","$container","setAttribute","removeAttribute","isEnabled","hasAttribute","scrollHorizontal","dir","date","dateFromPos","getScrollState","x","step","add","scale_unit","scrollTo","posFromDate","scrollVertical","top","y","row_height","alt+left","alt+right","alt+up","alt+down","ctrl+z","undo","ctrl+r","redo","KeyNavNode","isValid","fallback","moveTo","element","setActiveNode","compareTo","b","canStringifyThis","toString","canStringifyThat","getNode","node","index","show_grid","getVisibleTaskCount","getGridColumns","visibleColumns","cells","$grid_scale","childNodes","columns","rootLevel","getChildren","root_id","TaskCell","enter, space","click","ctrl+enter","createTask","taskId","isTaskExists","getTaskIndex","header","visibleTasks","_order","nextIndex","undefined","isTaskVisible","$grid","querySelector","task_attribute","getTaskNode","showTask","apply","nextElement","prevTask","getPrev","nextTask","getNext","getState","selected_task","selectTask","unselectTask","ctrl+left","close","ctrl+right","open","$click","buttons","showLightbox","columnIndex","row","isModal","modalsStack","afterPopup","box","setTimeout","startModal","eventRemove","event","endModal","pop","isTopModal","window","target","currentTarget","traceLightbox","getLightbox","saveFocus","focusElement","restoreFocus","attachEvent","isActive","activeNode","globalNode","getDefaultNode","focusGlobalNode","blurNode","el","keyDownHandler","ganttNode","focusHandler","onReady","detachEvent","refreshTask","id","currentNode","_smart_render","updateRender","_redrawItems","renderers","items","item","setInterval","parent","_locate_css","parentNode","Gantt","plugin"],"mappings":"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"}